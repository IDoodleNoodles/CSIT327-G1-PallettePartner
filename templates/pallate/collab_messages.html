{% extends "base.html" %}
{% load static %}

{% block title %}Messages | PallettePartner{% endblock %}
{% block content %}
<div class="min-h-screen bg-[#0B1221] text-[#E5E7EB] flex flex-col">
  <div class="flex items-center gap-2 px-4 py-3 border-b border-[#1E2639]">
    <a href="{% url 'pallate:dashboard' %}"><img src="{% static 'icon/back_icon.png' %}" class="w-5 h-5"></a>
    <h1 class="font-semibold text-lg">Chat: {{ collaboration.title }}</h1>
  </div>

  <div class="flex-1 overflow-y-auto px-6 py-4 space-y-3">
    {% for msg in messages %}
      <div class="p-3 rounded-lg {% if msg.sender == request.user %}bg-[#4F46E5] text-white self-end{% else %}bg-[#1A2035]{% endif %}">
        <p class="text-sm">{{ msg.text }}</p>
        <small class="text-gray-400">{{ msg.sender.username }} â€¢ {{ msg.timestamp|timesince }} ago</small>
      </div>
    {% endfor %}
  </div>

  <form method="POST" class="flex items-center gap-3 p-4 bg-[#0D1426] border-t border-[#1E2639]">
    {% csrf_token %}
    <input type="text" name="text" placeholder="Type a message..." class="flex-1 bg-[#1A2035] rounded-md px-4 py-2 text-sm text-gray-200 focus:ring focus:ring-[#4F46E5] outline-none">
    <button type="submit" class="bg-[#4F46E5] px-4 py-2 rounded-md text-white">Send</button>
  </form>
</div>
{% endblock %}