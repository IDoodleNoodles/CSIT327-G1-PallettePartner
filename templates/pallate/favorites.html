{% extends "base.html" %}
{% load static %}

{% block title %}Favorites | PallettePartner{% endblock %}

{% block content %}
<div class="min-h-screen bg-[#0B1221] text-[#E5E7EB] flex flex-col">
  <div class="flex items-center gap-2 px-6 py-4 border-b border-[#1E2639] bg-[#0D1426]">
    <a href="{% url 'pallate:dashboard' %}">
      <img src="{% static 'icon/back_icon.png' %}" class="w-5 h-5 hover:opacity-80 transition">
    </a>
    <h1 class="text-lg font-semibold text-[#A7F3D0]">My Favorites</h1>
  </div>

  <div class="flex-1 overflow-y-auto px-8 py-6 space-y-5">
    {% if favorite_posts %}
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          {% for fav in favorite_posts %}
          <div class="bg-[#1A2035] border border-[#232B46] rounded-lg overflow-hidden hover:border-[#A7F3D0] transition shadow-sm">
        {% if fav.artwork.image %}
            <div class="relative group">
              <img src="{{ fav.artwork.image.url }}" alt="{{ fav.artwork.title }}" class="w-full h-48 object-cover">
              <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-300"></div>
            </div>
        {% endif %}
        
            <div class="p-4">
              <h3 class="text-lg font-semibold text-[#A7F3D0]">{{ fav.artwork.title }}</h3>
              <p class="text-[#9CA3AF] mt-2 text-sm line-clamp-2">{{ fav.artwork.description }}</p>
            
              <div class="text-sm text-[#6B7280] mt-3 flex gap-4 items-center">
                <span>üë§ {{ fav.artwork.user.username }}</span>
                <span>üïí {{ fav.artwork.created_at|timesince }} ago</span>
              </div>

              <!-- Action buttons -->
              <div class="flex gap-4 mt-4 items-center">
                <a href="{% url 'pallate:toggle_favorite' fav.artwork.id %}" 
                   title="Remove from favorites" 
                   class="hover:scale-110 transition-transform">
                  <span class="text-2xl">‚ù§Ô∏è</span>
                </a>
                <a href="{% url 'pallate:artist_profile_by_id' fav.artwork.user.id %}" 
                   title="Artist Profile" 
                   class="hover:opacity-80 transition">
                  <img src="{% static 'icon/artist_icon.png' %}" class="w-5 h-5" alt="Artist">
                </a>
              </div>
            </div>
        </div>
          {% endfor %}
      </div>
    {% else %}
      <div class="text-center text-[#9CA3AF] border border-[#232B46] rounded-xl py-12 bg-[#111827] mx-6 shadow-inner">
          <p class="mb-4">You haven't added any favorites yet.</p>
          <a href="{% url 'pallate:dashboard' %}" class="inline-block bg-[#A7F3D0] hover:bg-[#7BE5B4] text-[#0A0A1F] px-5 py-2 rounded-lg font-semibold transition">
            Browse Artworks
          </a>
      </div>
    {% endif %}
  </div>
</div>
{% endblock %}